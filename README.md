# Дипломная работа


## VKinder

Приложение осуществляет поиск подходящих людей из VK по параметрам. 

## Установка
Из директории репозитория:
```shell
pip install .
```

## Зависимости

- pymongo
- vk-api
- pymystem3

## Как работает

При запуске программы у пользователя спрашивают его id или domain. Ссылка для получения токена формируется автоматически, пользователю нужно скопировать токен и вставить его в программу.

На первом этапе мы получаем список пользователей из vk_api с использованием определенных параметров из настроек приложения. Если какой-либо из параметров, которые подразумевают только одно значение, содержит список значений, то такие запросы разбиваются на несколько отдельных запросов.

После список пользователей обрабатывается. Поля, которые содержат строки, например: статус, интересы и т.д., разбиваются на леммы. Поля, которые содержат список объектов, например, школы, преобразуются в список только с одним значением, для школ это id. После пользователь сохраняется в базу данных.

На втором этапе осуществляется поиск по базе данных. Здесь есть два вида параметров, содержащие значение или список значений. По значениям происходит сортировка по совпадению. Даже если значение не совпадает, оно все равно остается, но опускается ниже в выдаче результатов. По спискам сортировка происходит по убыванию количества пересечений списков. Порядок полей учитывается.

На выходе выдаются 10 пользователей, лучшим образом подпадающие под критерии, и их топ-три фотографии профиля, которые определяются по количеству лайков. В базе они отмечаются как просмотренные и больше не пападают в результаты.